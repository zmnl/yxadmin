<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<title>AdminLTE 3 | Dashboard 3</title>

<!-- Font Awesome Icons -->
<link rel="stylesheet"
	href="plugins/font-awesome/css/font-awesome.min.css">
<!-- IonIcons -->
<link rel="stylesheet"
	href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="dist/css/adminlte.min.css">
<link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">
<link
	href="http://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"
	rel="stylesheet">
<!-- Google Font: Source Sans Pro -->
<link
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
	rel="stylesheet">
<!-- jQuery -->
<script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
<!-- Bootstrap -->
<script src="../plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- AdminLTE -->
<script src="dist/js/adminlte.js"></script>

<!-- OPTIONAL SCRIPTS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<script src="dist/js/demo.js"></script>
<script src="dist/js/pages/dashboard3.js"></script>

<script type="text/javascript" src="../plugins/angularjs/angular.min.js">  </script>
<!-- 分页组件开始 -->
<script src="../plugins/angularjs/pagination.js"></script>
<link rel="stylesheet" href="../plugins/angularjs/pagination.css">
<!-- 分页组件结束 -->


<script type="text/javascript" src="../js/base_pagination.js">  </script>
<script type="text/javascript" src="../js/service/transRecordService.js">  </script>
<script type="text/javascript" src="../js/controller/baseController3.js">  </script>
<script type="text/javascript"
	src="../js/controller/transRecordController.js">  </script>
<script type="text/javascript" src="js/moment-with-locales.min.js"></script>
<script type="text/javascript"
	src="js/moment-timezone-with-data-2012-2022.min.js"></script>
<script src="assets/theme/js/tempusdominus-bootstrap-4.js"></script>
<script type="text/javascript">
	$(function() {
		$('#datetimepicker1').datetimepicker();
	});
</script>
<script type="text/javascript">
	$(function() {
		$.ajax({
			url : "/admin/getLogin",
			success : function(res) {
				if (res == "") {
					alert("您未登录！");
					window.location.href = "indexadmin.html";
				} else {
					$("#username").html(res.username);
				}
			}
		});
		$("#logout").click(function() {
			$.ajax({
				url : "/admin/logout",
				success : function(res) {
					window.location.href = "indexadmin.html";
				}
			});
		})
	});
</script>
</head>
<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to to the body tag
to get the desired effect
|---------------------------------------------------------|
|LAYOUT OPTIONS | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition sidebar-mini"  ng-app="yunxin"
				ng-controller="transRecordController">
	<div class="wrapper">
		<!-- Navbar -->
		<nav
			class="main-header navbar navbar-expand bg-white navbar-light border-bottom">
			<!-- Left navbar links -->
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" data-widget="pushmenu"
					href="#"><i class="fa fa-bars"></i></a></li>
				<li class="nav-item d-none d-sm-inline-block"><a
					href="index3.html" class="nav-link">数据</a></li>

			</ul>


			<!-- Right navbar links -->
			<ul class="navbar-nav ml-auto">
				<!-- Messages Dropdown Menu -->
				<li class="nav-item dropdown"><a class="nav-link"
					data-toggle="dropdown" href="#"> <i class="fa fa-comments-o"></i>
						<span class="badge badge-danger navbar-badge">3</span>
				</a>
					<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
						<a href="#" class="dropdown-item"> <!-- Message Start -->
							<div class="media">
								<img src="dist/img/user1-128x128.jpg" alt="User Avatar"
									class="img-size-50 mr-3 img-circle">
								<div class="media-body">
									<h3 class="dropdown-item-title">
										Brad Diesel <span class="float-right text-sm text-danger"><i
											class="fa fa-star"></i></span>
									</h3>
									<p class="text-sm">Call me whenever you can...</p>
									<p class="text-sm text-muted">
										<i class="fa fa-clock-o mr-1"></i> 4 Hours Ago
									</p>
								</div>
							</div> <!-- Message End -->
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item"> <!-- Message Start -->
							<div class="media">
								<img src="dist/img/user8-128x128.jpg" alt="User Avatar"
									class="img-size-50 img-circle mr-3">
								<div class="media-body">
									<h3 class="dropdown-item-title">
										John Pierce <span class="float-right text-sm text-muted"><i
											class="fa fa-star"></i></span>
									</h3>
									<p class="text-sm">I got your message bro</p>
									<p class="text-sm text-muted">
										<i class="fa fa-clock-o mr-1"></i> 4 Hours Ago
									</p>
								</div>
							</div> <!-- Message End -->
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item"> <!-- Message Start -->
							<div class="media">
								<img src="dist/img/user3-128x128.jpg" alt="User Avatar"
									class="img-size-50 img-circle mr-3">
								<div class="media-body">
									<h3 class="dropdown-item-title">
										Nora Silvester <span class="float-right text-sm text-warning"><i
											class="fa fa-star"></i></span>
									</h3>
									<p class="text-sm">The subject goes here</p>
									<p class="text-sm text-muted">
										<i class="fa fa-clock-o mr-1"></i> 4 Hours Ago
									</p>
								</div>
							</div> <!-- Message End -->
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item dropdown-footer">See All
							Messages</a>
					</div></li>
				<!-- Notifications Dropdown Menu -->
				<li class="nav-item dropdown"><a class="nav-link"
					data-toggle="dropdown" href="#"> <i class="fa fa-bell-o"></i> <span
						class="badge badge-warning navbar-badge">15</span>
				</a>
					<div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
						<span class="dropdown-item dropdown-header">15条通知</span>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item"> <i
							class="fa fa-envelope mr-2"></i> 4条消息 <span
							class="float-right text-muted text-sm">3 mins</span>
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item"> <i class="fa fa-users mr-2"></i>
							8条朋友的请求 <span class="float-right text-muted text-sm">12
								hours</span>
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item"> <i class="fa fa-file mr-2"></i>
							3个新的报告 <span class="float-right text-muted text-sm">2 days</span>
						</a>
						<div class="dropdown-divider"></div>
						<a href="#" class="dropdown-item dropdown-footer">查看全部通知 
					</div></li>
				<li class="nav-item"><a class="nav-link"
					data-widget="control-sidebar" data-slide="true" href="#"><i
						class="fa fa-th-large"></i></a></li>
			</ul>
		</nav>
		<!-- /.navbar -->

		<!-- Main Sidebar Container -->
		<aside class="main-sidebar sidebar-dark-primary elevation-4">
			<!-- Brand Logo -->
			<a href="index3.html" class="brand-link"> <img
				src="dist/img/AdminLTELogo.png" alt="AdminLTE Logo"
				class="brand-image img-circle elevation-3"
				style="opacity: .8;width: 25px;"> <span
				class="brand-text font-weight-light" style="font-size: 18px;">
					云心测评管理端</span>
			</a>

			<!-- Sidebar -->
			<div class="sidebar">
				<!-- Sidebar user panel (optional) -->
				<div class="user-panel mt-3 pb-3 mb-3 d-flex">
					<div class="image">
						<img src="dist/img/user2-160x160.jpg"
							class="img-circle elevation-2" alt="User Image"
							style="
    width: 45px " ; style="height: 45px ">
					</div>
					<div class="info">
						<a href="#" class="d-block" id="username">John</a> <a href="#"
							id="logout">登出</a>
					</div>
				</div>

				<!-- Sidebar Menu -->
				<nav class="mt-2">
					<ul class="nav nav-pills nav-sidebar flex-column"
						data-widget="treeview" role="menu" data-accordion="false"
						style="
    font-size: 16px;
">
						<!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
						<li class="nav-item"><a href="./index3.html" class="nav-link">
								<i class="nav-icon fa fa-dashboard"></i>
								<p>数据概览</p>
						</a></li>


						<li class="nav-item has-treeview menu-open"><a href="#"
							class="nav-link"> <i class="nav-icon fa fa-pie-chart"></i>
								<p>
									数据管理 <i class="right fa fa-angle-left"></i>
								</p>
						</a>
							<ul class="nav nav-treeview" style="display: block;">
								<li class="nav-item"><a href="bankAdmin.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>题库管理</p>
								</a></li>

								<li class="nav-item"><a href="pages/charts/inline.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>分类管理</p>
								</a></li>
								<li class="nav-item"><a href="charecordAdmin.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>充值记录管理</p>
								</a></li>
								<li class="nav-item"><a href="classAdmin.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>班级管理</p>
								</a></li>
								<li class="nav-item"><a href="examAdmin.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>考试管理</p>
								</a></li>

								<li class="nav-link active"><a href="#" class="nav-link">
										<i class="fa fa-circle-o nav-icon"></i>
										<p>交易记录管理</p>
								</a></li>
								<li class="nav-item"><a href="userAdmin.html"
									class="nav-link"> <i class="fa fa-circle-o nav-icon"></i>
										<p>用户管理</p>
								</a></li>


							</ul></li>


					</ul>
				</nav>
				<!-- /.sidebar-menu -->
			</div>
			<!-- /.sidebar -->
		</aside>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper"
			style="min-height: 473.713px; padding-left: 30px;">
			<div class="hold-transition skin-red sidebar-mini">
				<!-- .box-body -->
				<div class="box-header with-border">
					<h3 class="box-title">管理</h3>
				</div>

				<div class="box-body">

					<!-- 数据表格 -->
					<div class="table-box">

						<!--工具栏-->
						<div class="pull-left">
							<div class="form-group form-inline">
								<div class="btn-group">
									<button type="button" class="btn btn-default" title="新建"
										data-toggle="modal" data-target="#editModal"
										ng-click="entity={}">
										<i class="fa fa-file-o"></i> 新建
									</button>
									<button type="button" class="btn btn-default" title="删除"
										ng-click="dele()">
										<i class="fa fa-trash-o"></i> 删除
									</button>
									<button type="button" class="btn btn-default" title="刷新"
										onclick="window.location.reload();">
										<i class="fa fa-refresh"></i> 刷新
									</button>
								</div>
							</div>
						</div>
						<div class="box-tools pull-right">
							<div class="has-feedback"></div>
						</div>
						<!--工具栏/-->

						<!--数据列表-->
						<table id="dataList"
							class="table table-bordered table-striped table-hover dataTable">
							<thead>
								<tr>
									<th class="" style="padding-right:0px"><input id="selall"
										type="checkbox" class="icheckbox_square-blue"></th>
									<th class="sorting">交易记录id</th>
									<th class="sorting">购买者id</th>
									<th class="sorting">售卖者id</th>
									<th class="sorting">交易时间</th>
									<th class="sorting">交易记录名称</th>
									<th class="sorting">积分数</th>
									<th class="sorting">试卷id</th>
									<th class="sorting">状态</th>

									<th class="text-center">操作</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="entity in list">
									<td><input type="checkbox"
										ng-click="updateSelection($event,entity.id)"></td>
									<td>{{entity.id}}</td>
									<td>{{entity.buyerId}}</td>
									<td>{{entity.sellerId}}</td>
									<td>{{entity.time|switchTime}}</td>
									<td>{{entity.title}}</td>
									<td>{{entity.pointNum}}</td>
									<td>{{entity.paperId}}</td>
									<td>{{entity.status}}</td>

									<td class="text-center">
										<button type="button" class="btn bg-olive btn-xs"
											style="background-color:#3d9970 !important;color:white"
											data-toggle="modal" data-target="#editModal"
											ng-click="findOne(entity.id)">修改</button>
									</td>
								</tr>
							</tbody>
						</table>
						<!--数据列表/-->
					</div>
					<!-- 数据表格 /-->
					<!-- 分页 -->
					<tm-pagination conf="paginationConf"></tm-pagination>
				</div>
				<!-- /.box-body -->

				<!-- 编辑窗口 -->
				<div class="modal fade" id="editModal" tabindex="-1" role="dialog"
					aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h3 id="myModalLabel">编辑</h3>
								<button type="button" class="close" data-dismiss="modal"
									aria-hidden="true">×</button>

							</div>
							<div class="modal-body">
								<table class="table table-bordered table-striped" width="800px">
									<tr>

										<td>购买者id</td>


										<td><div class="dropdown" ng-init="initList2()">
												<button type="button" class="btn dropdown-toggle"
													id="dropdownMenu1" data-toggle="dropdown"
													style="width:380px;height:20">
													{{entity.buyerId}}</button>
												<ul class="dropdown-menu" role="menu"
													aria-labelledby="dropdownMenu1">
													<li role="presentation" ng-repeat="user2 in list2"
														ng-click="selectUser(user2.id)"><a role="menuitem"
														tabindex="-1" href="#">{{user2.id}}</a></li>


												</ul>
											</div></td>

									</tr>
									<tr>

										<td>售卖者id</td>


										<td><div class="dropdown" ng-init="initList3()">
												<button type="button" class="btn dropdown-toggle"
													id="dropdownMenu1" data-toggle="dropdown"
													style="width:380px;height:20">
													{{entity.sellerId}}</button>
												<ul class="dropdown-menu" role="menu"
													aria-labelledby="dropdownMenu1">
													<li role="presentation" ng-repeat="user3 in list3"
														ng-click="selectUser1(user3.id)"><a role="menuitem"
														tabindex="-1" href="#">{{user3.id}}</a></li>


												</ul>
											</div></td>

									</tr>
									<tr>

										<td>交易时间</td>

										<td>
											<div class="form-group">
												<div class="input-group date" id="datetimepicker1"
													data-target-input="nearest">
													<input type="text"
														class="form-control datetimepicker-input"
														data-target="#datetimepicker1"
														value="{{entity.createTime | database2plugin}}" id="time1"
														style="
    width: 323px" ; />
													<div class="input-group-append"
														data-target="#datetimepicker1"
														data-toggle="datetimepicker">
														<div class="input-group-text" style="
    height: 33.5px";>
															<i class="fa fa-calendar"></i>
														</div>
													</div>
												</div>
											</div>
										</td>

									</tr>
									<tr>

										<td>交易记录名称</td>

										<td><input class="form-control" ng-model="entity.title"
											placeholder="交易记录名称"></td>

									</tr>
									<tr>

										<td>积分数</td>

										<td><input class="form-control"
											ng-model="entity.pointNum" placeholder="积分数"></td>

									</tr>
									<tr>

										<td>试卷id</td>

										<td><input class="form-control" ng-model="entity.paperId"
											placeholder="试卷id"></td>

									</tr>
									<tr>

										<td>状态</td>

										<td><input class="form-control" ng-model="entity.status"
											placeholder="0：失败 ；1：成功"></td>

									</tr>

								</table>
							</div>
							<div class="modal-footer">
								<button class="btn btn-success" data-dismiss="modal"
									aria-hidden="true" ng-click="save()">保存</button>
								<button class="btn btn-default" data-dismiss="modal"
									aria-hidden="true">关闭</button>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
</body>
</html>
